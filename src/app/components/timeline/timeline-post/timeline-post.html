<div class="panel">
    <div class="panel-heading">
        <div class="media">
            <div class="media-left media-top">
                <a href="#">
                    <img class="media-object img-rounded author-image" [attr.src]="post.profile_pic" alt="...">
                </a>
            </div>
            <div class="media-body">
                <div class="dropdown" dropdown>
                    <a dropdownToggle class="dropdown-toggle">
                        <span class="glyphicon glyphicon-collapse-down dropdown-icon" aria-hidden="true"></span>
                    </a>
                    <ul *dropdownMenu class="dropdown-menu pull-right" role="menu">
                        <li role="menuitem"><a class="dropdown-item" href="#">Copy Link</a></li>
                        <li role="menuitem"><a class="dropdown-item" *ngIf="user.ID == post.user_ID" (click)="deletePost()">Delete</a></li>
                        <li role="menuitem"><a class="dropdown-item" href="#">Share</a></li>
                        <li class="divider dropdown-divider"></li>
                        <li role="menuitem"><a class="dropdown-item" href="#">Report Post</a>
                        </li>
                    </ul>
                </div>
                <p>
                    {{post.display_name}} <small>{{ post.post_date | amTimeAgo }} </small>
                </p>
                <p>
                    <span class="text-container " *ngFor="let chunk of post.text ">
                        <span class="text-element " [ngSwitch]="chunk.indexOf(post.uuid)==0 ">
                            <a *ngSwitchCase="true " class="mention" [routerLink]="[ '/u', chunk.replace(regex, '') ] ">@{{chunk.replace(regex, '')}}</a>
                            <span *ngSwitchCase="false ">{{chunk}}</span>
                    </span>
                    </span>
                </p>
            </div>
            <div class="image-grid ">
                <div *ngFor="let image of post.images; let i=index ">
                    <img *ngIf="i==0 " class="grid-image img-responsive " [src]="image.src " (click)="openImage(i, $event) " />
                </div>
                <span class="badge image-count-badge " *ngIf="post.images.length> 1">1 of {{post.images.length}}</span>
            </div>
        </div>

        <div class="actions" [ngSwitch]="post.user_ID == user.ID">
            <!-- Switch Cases -->
            <button *ngSwitchCase="true" class="static-stat" [ngStyle]="{'background-color':post.liked ? '#985E6D' : '' }">
                <i class="fa fa-heart"></i><span class="action-text">{{post.likes}}</span> 
            </button>
            <button *ngSwitchCase="false" class="action-button" (click)="likePost()" [ngStyle]="{'background-color':post.liked ? '#985E6D' : '' }">
                <i class="fa fa-heart" ></i><span class="action-text">{{post.likes}}</span> 
            </button>
            <!-- End Switch Cases  -->
            <button class="action-button static-stat">
                <i class="fa fa-comment"></i> <span class="action-text">{{post.comment_count}}</span><!-- Comments -->
            </button>
            <button class="action-button static-stat">
                <i class="fa fa-mail-reply"></i> <span class="action-text">0</span><!-- Shares -->
            </button>
            <button class="action-button" style="float:right;">
                <i class="glyphicon glyphicon-signal"></i> <span class="action-text">{{post.exp_count}}</span>
            </button>
        </div>

    </div>

    <div class="panel-body">
        <div class="comment-form">
            <div class="media">
                <div class="media-left media-top">
                    <a href="#">
                        <img class="media-object img-rounded input-user-image" [src]="user.profile_pic" alt="...">
                    </a>
                </div>
                <div class="media-body">
                    <input [(ngModel)]="postText" class="form-control input-box" aria-describedby="basic-addon2" id="text-post" placeholder="What do you have to say?" />
                </div>
                <div class="action-grid">
                    <!-- Upload Image Button -->
                    <div class="action-buttons">
                        <div class="btn-file">
                            <button>
                                <i class="glyphicon glyphicon-camera"><input type="file" accept="image/*" (change)="imageHandler($event)"></i>
                            </button>
                        </div>
                        <div class="btn-file">
                            <button>
                                <i class="glyphicon glyphicon-film"><!-- <input type="file" accept="image/*" (change)="imageHandler($event)"> --></i>
                            </button>
                        </div>
                        <div class="btn-file">
                            <button>
                                <i class="glyphicon glyphicon-screenshot"><!-- <input type="file" accept="image/*" (change)="imageHandler($event)"> --></i>
                            </button>
                        </div>
                        <!-- Any other actions here... -->
                    </div>
                    <!-- Post Button -->
                    <button class="post-button">
                        Comment
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>