<!--Large modal-->
<!--Would be in a container  -->
<div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <feed-modal [post]="post"></feed-modal>
</div>

<!--Maybe take all the post stuff out of this and break it to feed item. The rest can be in a container  -->
<!--This whole .box div would be <feed-item></feed-item> The container would be <feed-item-container></feed-item-container> -->
<div class="box">
    <div class="dropdown action-dropdown" dropdown>
        <a dropdownToggle class="dropdown-toggle">
            <span class="glyphicon glyphicon-collapse-down dropdown-icon" aria-hidden="true"></span>
        </a>
        <ul *dropdownMenu class="dropdown-menu pull-right" role="menu">
            <li role="menuitem"><a class="dropdown-item">Copy Link</a></li>
            <li role="menuitem"><a class="dropdown-item" *ngIf="user.ID == post.user.ID" (click)="deleteItem(post.ID)">Delete</a></li>
            <li role="menuitem"><a class="dropdown-item">Share</a></li>
            <li class="divider dropdown-divider"></li>
            <li role="menuitem"><a class="dropdown-item">Report Post</a>
            </li>
        </ul>
    </div>
    <div class="box-top" (click)="lgModal.show()">
        <div class="feed-item-header">
            <div class="header-grid">
                <div class="author-image">
                    <img class="author-profile-pic" [src]="post.user.profile_pic" alt="">
                </div>
                <div class="post-data">
                    {{post.user.display_name}}
                    <small>{{post.creation_date | amTimeAgo}}</small>
                </div>
            </div>
        </div>
        <div class="feed-item-body">
            <p class="text-container ">
                <span *ngFor="let chunk of post.text " class="text-element" [ngSwitch]="chunk.indexOf(post.uuid)==0 ">
                    <a *ngSwitchCase="true " class="mention" [routerLink]="[ '/u', chunk.replace(regex, '') ] ">@{{chunk.replace(regex, '')}}</a>
                    <span *ngSwitchCase="false ">{{chunk}}</span>
                </span>
            </p>
        </div>
    </div>

    <!--Would be in a container  -->
    <!--<hr class="full-blue">-->
    <div class="feed-item-actions" (click)="lgModal.show()">
        <div class="actions" [ngSwitch]="post.user_ID == user.ID">
            <!-- Switch Cases -->
            <button *ngSwitchCase="true" class="static-stat" [ngStyle]="{'background-color':post.liked ? '#985E6D' : '' }">
                <i class="fa fa-heart"></i><span class="action-text">{{post.likes.length}}</span> 
            </button>
            <button *ngSwitchCase="false" class="action-button" [ngStyle]="{'background-color':post.liked ? '#985E6D' : '' }">
                <i class="fa fa-heart" ></i><span class="action-text">{{post.likes.length}}</span> 
            </button>
            <!-- End Switch Cases  -->
            <button class="action-button static-stat">
                <i class="fa fa-comment"></i> <span class="action-text">{{post.response_count || 0}}</span><!-- Comments -->
            </button>
            <button class="action-button static-stat">
                <i class="fa fa-mail-reply"></i> <span class="action-text">0</span><!-- Shares -->
            </button>
            <button class="action-button" style="float:right;">
                <i class="glyphicon glyphicon-signal"></i> <span class="action-text">{{post.exp_count || 0}}</span>
            </button>
        </div>
    </div>
</div>