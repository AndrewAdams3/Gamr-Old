<div class="media">
    <div class="media-left media-top">
        <a [routerLink]="[ '/u', response.tag] ">
            <img class="media-object img-rounded author-image" [attr.src]="response.profile_pic" alt="...">
        </a>
    </div>
    <div class="media-body">
        <p>
            <a class="author-name" [routerLink]="[ '/u', response.tag] "> {{response.display_name}} </a>
            <small>{{ response.timestamp | amTimeAgo }} </small>
        </p>
        <p class="text-container">
            <span *ngFor="let chunk of response.text" class="text-element " [ngSwitch]="chunk.indexOf(response.uuid)==0 ">
                <a *ngSwitchCase="true " class="mention" [routerLink]="[ '/u', chunk.replace(regex, '') ] ">@{{chunk.replace(regex, '')}}</a>
                <span *ngSwitchCase="false ">{{chunk}}</span>
            </span>
        </p>
    </div>

    <div class="image-grid ">
        <div *ngFor="let image of response.images; let i=index ">
            <img *ngIf="i==0 " class="grid-image img-responsive no-open " [src]="image.src" (click)="openImage(i, $event) " />
        </div>
        <span class="badge image-count-badge " *ngIf="response.images.length> 1">1 of {{response.images.length}}</span>
    </div>
</div>
<div class="media">
    <div class="media-left media-top">
        <a href="#">
            <img class="media-object img-rounded author-image" [src]="user.profile_pic" alt="...">
        </a>
    </div>

    <!-- Input Box -->
    <div class="media-body">
        <div class="post-form input-group">
            <textarea [(ngModel)]="new_post.text" class="form-control post-input" rows="1" aria-describedby="basic-addon2" placeholder="What do you have to say?"></textarea>
        </div>
    </div>
    <div class="action-grid">
        <!-- Upload Image Button -->
        <div class="action-buttons">
            <div class="btn-file" *ngIf="new_post.images.length < 7">
                <button>
                    <i class="glyphicon glyphicon-camera"><input type="file" accept="image/*" (change)="imageHandler($event)"></i>
                </button>
            </div>
            <div class="btn-file" *ngIf="new_post.video.length == 0">
                <button>
                    <i class="glyphicon glyphicon-film"><!-- <input type="file" accept="image/*" (change)="imageHandler($event)"> --></i>
                </button>
            </div>
            <div class="btn-file" *ngIf="new_post.images.length < 7">
                <button>
                    <i class="glyphicon glyphicon-screenshot"><!-- <input type="file" accept="image/*" (change)="imageHandler($event)"> --></i>
                </button>
            </div>
            <!-- Any other actions here... -->
        </div>
        <!-- Post Button -->
        <button class="post-button" (click)="savePost()" *ngIf="new_post.text.length > 0 || new_post.images.length > 0 || new_post.video.length > 0 ">
            Comment
        </button>
    </div>

    <hr class="full-secondary" *ngIf="new_post.images.length > 0 || new_post.video.length > 0 ">

    <!-- Uploaded Images -->
    <div class="uploaded-images text-center">
        <div class="image-container" *ngFor="let image of new_post.images; let i = index;">
            <img class="uploaded-image" src="{{image}}" alt=""><br>
            <span class="remove-upload" aria-hidden="true" (click)="removeImage(i)">Remove</span>
        </div>
        <!-- Image Upload Status Indicator -->
        <div class="uploading" *ngIf="uploading">
            <div class="load-2">
                <div class="line" style="background-color:#8961ab;"></div>
                <div class="line" style="background-color:#a74040;"></div>
                <div class="line" style="background-color:#0b428f;"></div>
            </div>
        </div>
    </div>

</div>