<div class="modal-dialog modal-lg post-modal">
    <div class="modal-content" style="padding-top:10px;">
        <div class="modal-header">
            <div class="media">
                <div class="media-left media-top">
                    <a [routerLink]="[ '/u', post.tag] ">
                        <img class="media-object img-rounded author-image" [attr.src]="post.profile_pic" alt="...">
                    </a>
                </div>
                <div class="media-body">

                    <a class="author-name" [routerLink]="[ '/u', post.tag] "> {{post.display_name}} </a>
                    <small>{{ post.post_date | amTimeAgo }} </small>

                    <div class="dropdown pull-right" dropdown>
                        <a dropdownToggle class="dropdown-toggle">
                            <span class="glyphicon glyphicon-collapse-down dropdown-icon" aria-hidden="true"></span>
                        </a>
                        <ul *dropdownMenu class="dropdown-menu pull-right" role="menu">
                            <li role="menuitem"><a class="dropdown-item">Copy Link</a></li>
                            <li role="menuitem"><a class="dropdown-item" *ngIf="user.ID == post.user_ID" (click)="deletePost()">Delete</a></li>
                            <li role="menuitem"><a class="dropdown-item">Share</a></li>
                            <li class="divider dropdown-divider"></li>
                            <li role="menuitem"><a class="dropdown-item">Report Post</a>
                            </li>
                        </ul>
                    </div>
                    <div class="pull-right" style="margin-right:10px;">
                        <button type="button" class="btn btn-sm btn-primary">
                            Follow
                        </button>
                    </div>
                </div>
                <br>
                <p class="text-container">
                    <span *ngFor="let chunk of post.text" class="text-element " [ngSwitch]="chunk.indexOf(post.uuid)==0 ">
                        <a *ngSwitchCase="true " class="mention" [routerLink]="[ '/u', chunk.replace(regex, '') ] ">@{{chunk.replace(regex, '')}}</a>
                        <span *ngSwitchCase="false ">{{chunk}}</span>
                    </span>
                </p>
                <div class="image-grid ">
                    <div *ngFor="let image of post.images; let i=index ">
                        <img *ngIf="i==0 " class="grid-image img-responsive no-open " [src]="image.src" (click)="openImage(i, $event) " />
                    </div>
                    <span class="badge image-count-badge " *ngIf="post.images.length> 1">1 of {{post.images.length}}</span>
                </div>
                <!--Options/Stats-->
                <div class="actions" [ngSwitch]="post.user_ID == user.ID">
                    <!-- Switch Cases -->
                    <button *ngSwitchCase="true" class="static-stat no-open" [ngStyle]="{'background-color':post.liked ? '#985E6D' : '' }">
                            <i class="fa fa-heart no-open"></i><span class="action-text no-open">{{post.likes}}</span> 
                        </button>
                    <button *ngSwitchCase="false" class="action-button no-open" (click)="likePost()" [ngStyle]="{'background-color':post.liked ? '#985E6D' : '' }">
                            <i class="fa fa-heart no-open" ></i><span class="action-text no-open">{{post.likes}}</span> 
                        </button>
                    <!-- End Switch Cases  -->
                    <button class="action-button no-open static-stat">
                            <i class="fa fa-comment"></i> <span class="action-text no-open">{{post.comment_count}}</span><!-- Comments -->
                        </button>
                    <button class="action-button no-open static-stat">
                            <i class="fa fa-mail-reply"></i> <span class="action-text no-open">0</span><!-- Shares -->
                        </button>
                    <button class="action-button no-open" style="float:right;">
                            <i class="glyphicon glyphicon-signal no-open"></i> <span class="action-text no-open">{{post.exp_count}}</span>
                        </button>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="media">
                <div class="media-left media-top">
                    <a href="#">
                        <img class="media-object img-rounded author-image" [src]="user.profile_pic" alt="...">
                    </a>
                </div>

                <!-- Input Box -->
                <div class="media-body">
                    <div class="post-form input-group">
                        <textarea [(ngModel)]="new_post.text" class="form-control post-input" rows="1" aria-describedby="basic-addon2" placeholder="What do you have to say?"></textarea>
                    </div>
                </div>
                <div class="action-grid">
                    <!-- Upload Image Button -->
                    <div class="action-buttons">
                        <div class="btn-file" *ngIf="new_post.images.length < 7">
                            <button>
                                <i class="glyphicon glyphicon-camera"><input type="file" accept="image/*" (change)="imageHandler($event)"></i>
                            </button>
                        </div>
                        <div class="btn-file" *ngIf="new_post.video.length == 0">
                            <button>
                                <i class="glyphicon glyphicon-film"><!-- <input type="file" accept="image/*" (change)="imageHandler($event)"> --></i>
                            </button>
                        </div>
                        <div class="btn-file" *ngIf="new_post.images.length < 7">
                            <button>
                                <i class="glyphicon glyphicon-screenshot"><!-- <input type="file" accept="image/*" (change)="imageHandler($event)"> --></i>
                            </button>
                        </div>
                        <!-- Any other actions here... -->
                    </div>
                    <!-- Post Button -->
                    <button class="post-button" (click)="savePost()" *ngIf="new_post.text.length > 0 || new_post.images.length > 0 || new_post.video.length > 0 ">
                        Comment
                    </button>
                </div>

                <hr class="full-blue" *ngIf="new_post.images.length > 0 || new_post.video.length > 0 ">

                <!-- Uploaded Images -->
                <div class="uploaded-images text-center">
                    <div class="image-container" *ngFor="let image of new_post.images; let i = index;">
                        <img class="uploaded-image" src="{{image}}" alt=""><br>
                        <span class="remove-upload" aria-hidden="true" (click)="removeImage(i)">Remove</span>
                    </div>
                    <!-- Image Upload Status Indicator -->
                    <div class="uploading" *ngIf="uploading">
                        <div class="load-2">
                            <div class="line" style="background-color:#8961ab;"></div>
                            <div class="line" style="background-color:#a74040;"></div>
                            <div class="line" style="background-color:#0b428f;"></div>
                        </div>
                    </div>
                </div>

            </div>
            <hr>
            <timeline-comment *ngFor="let comment of post.comments" [comment]="comment"></timeline-comment>

        </div>
    </div>
</div>